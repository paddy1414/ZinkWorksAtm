<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Profile</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link th:href="@{/styles/styles.css}" rel="stylesheet"/>
</head>
<body>
<h1 th:text="'Hello, ' + ${account.accountNum} + '!'"/>
<p th:text="'Your current balance is: ' + ${account.openingBalance} + ''"/>
<p th:text="'Your overdraft  is: ' + ${account.overDraft} + ''"/>
<p data-th-utext="'Message: ' + ${#strings.replace(message, newLineChar, '&lt;br &gt;')}"/>
<table>
    <thead>
    <tr>
        <th> Timestamp </th>
        <th> Opening Balance </th>
        <th> New Balance </th>
        <th> Amount </th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="transaction : ${transactionList}">
        <td><span th:text="${transaction.timestamp}"> Timestamp </span></td>
        <td><span th:text="${transaction.openingBalance}"> Opening Balance </span></td>
        <td><span th:text="${transaction.newBalance}"> New Balance </span></td>
        <td><span th:text="${transaction.amount}"> Amount </span></td>
    </tr>
    </tbody>
</table>

<!--<button th:onclick="window.location.href='/maxWithdrawal?accountNum='${account.accountNum}'&pin='${account.pin}''">Max withdrawal</button>-->
<a th:href="@{/maxWithdrawal?(accountNum=${account.accountNum},pin=${account.pin})}">Max withdrawal</a>

<form action="/withdraw?" method="post">
    <div class="imgcontainer">
            <span onclick="document.getElementById('id01').style.display='none'" class="close"
                  title="Close Modal">&times;</span>
        <img th:src="@{/images/zinkworks.png}" alt="Avatar" class="avatar">
    </div>
    <div class="container">
        <label for="accountNum"><b>Username</b></label>
        <input type="text" th:data1="${account.accountNum}" placeholder="Enter Username" name="accountNum" required>
        <label for="pin"><b>Password</b></label>
        <input type="password" th:data1="${account.pin}" placeholder="Enter Password" name="pin" required>
        <label for="withrdrawAmount"><b>amount to withdraw</b></label>
        <input type="text" placeholder="Enter amount" name="withdraw" required>
        <button type="submit">Withdraw</button>
    </div>
</form>
<button><a href="/">Logout</a></button>
</body>
</html>